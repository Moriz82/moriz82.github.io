<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="HTB Heal parsed writeup with full section flow, commands, notes, and screenshot evidence." />
  <title>HTB Heal Writeup | Will DeDominico</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>
<body>
  <div class="background-noise" aria-hidden="true"></div>
  <header class="site-header">
    <div class="logo-lockup">
      <div class="logo-mark" aria-hidden="true"></div>
      <a href="../index.html#home" class="logo-type">Will<span>DeDominico</span></a>
    </div>
    <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
      <span class="sr-only">Toggle navigation</span>
      <span></span>
      <span></span>
    </button>
    <nav id="site-nav" class="site-nav" aria-expanded="false">
      <a href="../index.html#home">Home</a>
      <a href="../index.html#experience">Experience</a>
      <a href="../index.html#projects">Projects</a>
      <a href="../index.html#writeups" class="is-active">Writeups</a>
      <a href="../index.html#github">GitHub</a>
      <a href="../index.html#ctf">CTFs</a>
      <a href="../index.html#htb">HTB</a>
      <a href="../index.html#clubs">Clubs</a>
      <a href="../index.html#education">Education</a>
    </nav>
  </header>

  <main>
    <article class="section blog-layout post-content" aria-labelledby="post-title">
      <header>
        <h1 id="post-title">HTB Heal Writeup</h1>
        <div class="post-meta">
          <time datetime="2025-06-08">June 8, 2025</time>
          <span>10 minute read</span>
          <div class="post-tags" aria-label="Topics">
            <span class="post-tag">HTB</span>
            <span class="post-tag">Medium</span>
            <span class="post-tag">Linux</span>
            <span class="post-tag">LFI</span>
            <span class="post-tag">Ruby on Rails</span>
            <span class="post-tag">RCE</span>
          </div>
        </div>
      </header>

      <figure class="post-hero">
        <img src="../assets/img/writeups/htb-heal.png" alt="First page preview of the HTB Heal writeup PDF report" />
        <figcaption>Parsed from your HTB Heal PDF report. Target profile: Medium Linux web/API chain.</figcaption>
      </figure>

      <div class="post-body">
        <p><strong>Description (parsed):</strong> Heal focuses on web exploitation through LFI and admin-panel abuse, with follow-on privilege escalation via local service discovery.</p>

        <div class="content-card">
          <h3>Skills Required</h3>
          <ul>
            <li>Linux basics</li>
            <li>Port scanning / enumeration</li>
            <li>Burp Suite basics</li>
            <li>sqlite3 basics</li>
            <li>Password cracking basics</li>
          </ul>
        </div>

        <h2>Enumeration</h2>
        <figure class="writeup-shot">
          <img src="../assets/img/writeups/htb-heal/page-02.png" alt="Heal report screenshot showing initial host and service enumeration" />
          <figcaption>Heal 路 Initial host discovery and API-facing reconnaissance.</figcaption>
        </figure>
        <p>The parsed report identifies SSH and HTTP first, then tracks an API host dependency required for full application functionality.</p>

        <pre><code class="language-bash"># host mapping from report context
echo "10.10.x.x heal.htb api.heal.htb" | sudo tee -a /etc/hosts

# baseline enumeration (commands summarized from report workflow)
nmap -sC -sV -Pn 10.10.x.x</code></pre>

        <h3>Web Enumeration and LFI</h3>
        <figure class="writeup-shot">
          <img src="../assets/img/writeups/htb-heal/page-04.png" alt="Heal report screenshot showing modified file download request and LFI result" />
          <figcaption>Heal 路 LFI validation through controlled download request manipulation.</figcaption>
        </figure>
        <p>The resume download workflow is intercepted and modified in Burp to read arbitrary files. The report uses <code>/etc/passwd</code> validation to confirm LFI.</p>

        <pre><code class="language-http">GET /download?filename=../../../../../../etc/passwd HTTP/1.1
Host: heal.htb</code></pre>

        <div class="callout callout--info" data-label="Operator Note">
          <p>The writeup correctly verifies LFI impact by reading universally available system files before targeting sensitive app config files.</p>
        </div>

        <h2>Foothold</h2>
        <figure class="writeup-shot">
          <img src="../assets/img/writeups/htb-heal/page-06.png" alt="Heal report screenshot showing database extraction and credential crack path" />
          <figcaption>Heal 路 Database extraction and admin credential recovery workflow.</figcaption>
        </figure>
        <p>With LFI confirmed, the report pulls Rails <code>database.yml</code>, then retrieves sqlite data from storage. User hash material for <code>ralph</code> is extracted and cracked, enabling admin-panel access.</p>

        <pre><code class="language-bash">hashcat -m 3200 [ralph_hash].txt rockyou.txt</code></pre>

        <p>From the admin panel, LimeSurvey versioning leads to public plugin-RCE exploitation, yielding shell as <code>www-data</code>.</p>

        <figure class="writeup-shot">
          <img src="../assets/img/writeups/htb-heal/page-08.png" alt="Heal report screenshot showing plugin-based RCE execution path" />
          <figcaption>Heal 路 Plugin-driven RCE to web shell context.</figcaption>
        </figure>

        <pre><code class="language-bash"># report reference exploit
https://github.com/N4s1rl1/Limesurvey-6.6.4-RCE</code></pre>

        <h2>Privilege Escalation</h2>
        <figure class="writeup-shot">
          <img src="../assets/img/writeups/htb-heal/page-09.png" alt="Heal report screenshot showing local service and privilege escalation investigation" />
          <figcaption>Heal 路 Local service mapping and privilege escalation lead-in.</figcaption>
        </figure>
        <p>Post-RCE enumeration finds local-only services. The report maps port behavior and targets Consul (8500) for root-level code execution using crafted API requests from the compromised context.</p>

        <pre><code class="language-bash">ss -tulnp
# identify local service behavior around port 8500 and exploit accordingly</code></pre>

        <div class="callout callout--warning" data-label="Notes">
          <p>The original flow includes exploratory branches (e.g., PostgreSQL creds from config but no direct DB access as www-data), which documents dead ends and strengthens reproducibility.</p>
        </div>

      </div>

      <footer class="post-footer">
        <p>Full technical report source:</p>
        <a class="button primary" href="https://github.com/Moriz82/WriteUps-and-Reports/blob/main/HTB/HTB%20Heal%20Write%20Up.pdf" target="_blank" rel="noopener">Open Original PDF</a>
        <a class="button ghost" href="../index.html#writeups">Back to Writeups</a>
      </footer>
    </article>
  </main>

  <footer class="site-footer">
    <p>漏 <span id="copyright-year"></span> Will DeDominico 路 Field-tested from San Antonio, TX.</p>
  </footer>

  <script src="../assets/js/main.js"></script>
</body>
</html>
